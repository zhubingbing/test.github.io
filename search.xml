<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[My New Post]]></title>
    <url>%2F2017%2F07%2F01%2FMy-New-Post%2F</url>
    <content type="text"></content>
      <tags>
        <tag>testing</tag>
        <tag>another tag</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2017%2F07%2F01%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
  <entry>
    <title><![CDATA[rally-first]]></title>
    <url>%2F2017%2F01%2F01%2Frally%2F</url>
    <content type="text"><![CDATA[Rally 介绍介绍OpenStack，毫无疑问是各种服务联合的一个庞大的生态系统。 Rally 作为一个标准测试工具，回答了 “OpenStack 如何大规模运作？” 的问题。 为了使其成为可能，Rally 自动化并统一了多个节点的 OpenStack 部署、云的验证、标准测试和分析。Rally 使用一个通用的方法，使得我们能够检查 OpenStack 是否正常运作，也即，在高负荷下 1K 服务器的安装是否成功。因此，它可以作为 OpenStack CI/CD 系统的基本工具来使用，可以持续改进其 SLA、运作和稳定性。 Rally 的操作如下图所示：http://coffeechou.github.io/public/imgs/rally_actions.png 在kolla中使用rally12345678910#在配置文件打开rallyvim /etc/kolla/globals.ymlenable_rally: &quot;yes&quot;#部署环境kolla-ansible deploy#生成openrc环境变量kolla-ansible post-deploy 初始化rallyRegistering an OpenStack deployment in Rally123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127# 进入rally 容器[root@control01 ~]# docker exec -it -u root rally bash(rally)[root@control01 /]#(rally)[root@control01 deployments]# vim existing-keystone-v3.json&#123; &quot;type&quot;: &quot;ExistingCloud&quot;, &quot;auth_url&quot;: &quot;http://172.16.130.210:5000/v3&quot;, &quot;region_name&quot;: &quot;RegionOne&quot;, &quot;endpoint_type&quot;: &quot;public&quot;, &quot;admin&quot;: &#123; &quot;username&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;99cloud&quot;, &quot;user_domain_name&quot;: &quot;deault&quot;, &quot;project_name&quot;: &quot;admin&quot;, &quot;project_domain_name&quot;: &quot;deault&quot; &#125;, &quot;https_insecure&quot;: false, &quot;https_cacert&quot;: &quot;&quot;&#125;### 创建deployments(rally)[root@control01 deployments]#rally deployment create --file existing-keystone-v3.json --name 99cloud-regionOne+--------------------------------------+---------------------+-------------------+------------------+--------+| uuid | created_at | name | status | active |+--------------------------------------+---------------------+-------------------+------------------+--------+| e36d802c-2211-4bac-a8ea-2f3b967568b9 | 2017-05-08 03:07:46 | 99cloud-regionOne | deploy-&gt;finished | |+--------------------------------------+---------------------+-------------------+------------------+--------+Using deployment: e36d802c-2211-4bac-a8ea-2f3b967568b9~/.rally/openrc was updatedHINTS:* To use standard OpenStack clients, set up your env by running: source ~/.rally/openrc OpenStack clients are now configured, e.g run: openstack image list(rally)[root@control01 deployments]# rally deployment list+--------------------------------------+---------------------+-------------------+-------------------+--------+| uuid | created_at | name | status | active |+--------------------------------------+---------------------+-------------------+-------------------+--------+| af993ae9-363e-4701-b343-626063eaf715 | 2017-04-26 07:13:50 | existing | cleanup-&gt;finished | || e36d802c-2211-4bac-a8ea-2f3b967568b9 | 2017-05-08 03:07:46 | 99cloud-regionOne | deploy-&gt;finished | * |+--------------------------------------+---------------------+-------------------+-------------------+--### 还有一种创建方法，就是使用环境变量去创建### 我们先删除之前创建的(rally)[root@control01 deployments]# rally deployment destroy 99cloud-regionOne(rally)[root@control01 deployments]# rally deployment list+--------------------------------------+---------------------+----------+-------------------+--------+| uuid | created_at | name | status | active |+--------------------------------------+---------------------+----------+-------------------+--------+| af993ae9-363e-4701-b343-626063eaf715 | 2017-04-26 07:13:50 | existing | cleanup-&gt;finished | |+--------------------------------------+---------------------+----------+-------------------+--------+### (rally)[root@control01 /]# cat openrcexport OS_REGION_NAME=RegionOneexport OS_PROJECT_DOMAIN_NAME=defaultexport OS_USER_DOMAIN_NAME=defaultexport OS_PROJECT_NAME=adminexport OS_TENANT_NAME=adminexport OS_USERNAME=adminexport OS_PASSWORD=99cloudexport OS_AUTH_URL=http://172.16.130.210:35357/v3export OS_INTERFACE=internalexport OS_IDENTITY_API_VERSION=3(rally)[root@control01 /]# source openrc## 测试下环境变量是否可用(rally)[root@control01 deployments]# openstack image list+--------------------------------------+-----------------------------------+--------+| ID | Name | Status |+--------------------------------------+-----------------------------------+--------+| 83dc79c8-c6df-4e23-808c-0209778be1b2 | 123 | active || 9d4cc662-bdfb-46cb-996d-3b773ee161d5 | a1 | active || 255cc63c-f635-4bbb-850c-e319d2e4c17d | cenos-raw | active || 63c5d475-e96a-4c1f-985b-12685aa2a95b | centos6.5 | active || 15ed4618-4b3b-4cc3-a9ef-6967e3a3091d | centos7 | active || 15f04241-38cc-482d-b6a3-42ba9d29f47a | cirros | active || 6491747b-2fea-4d7c-b034-b3fe5089df2c | d1 | active || 4f99d882-04af-47bc-9e2d-a12aaecbf753 | s_rally_e4dbf0c1_LdpjrVlZ-shelved | active || 6a45e590-08fc-471f-b4d8-9a6195e88d07 | s_rally_e4dbf0c1_f3TP5nP4-shelved | active || a166585b-fb88-4c0a-a0c9-47443e9ca8be | s_rally_e4dbf0c1_lEthjCi9-shelved | active || fa680415-4448-4564-9b22-bdf2b86b6cd2 | s_rally_e4dbf0c1_nuqTKzuQ-shelved | active || 6eec3597-ee52-436c-9970-ec11415cbb4e | sdf1 | active || 1e84937a-a700-447b-8ffc-3f162127300d | snap1 | active |+--------------------------------------+-----------------------------------+--------+(rally)[root@control01 deployments]# rally deployment create --fromenv --name regiOne-99cloud+--------------------------------------+---------------------+-----------------+------------------+--------+| uuid | created_at | name | status | active |+--------------------------------------+---------------------+-----------------+------------------+--------+| 6682d272-5d99-400b-9de9-c4d46a705ba6 | 2017-05-08 03:21:46 | regiOne-99cloud | deploy-&gt;finished | |+--------------------------------------+---------------------+-----------------+------------------+--------+Using deployment: 6682d272-5d99-400b-9de9-c4d46a705ba6~/.rally/openrc was updatedHINTS:* To use standard OpenStack clients, set up your env by running: source ~/.rally/openrc OpenStack clients are now configured, e.g run: openstack image list(rally)[root@control01 deployments]# source ~/.rally/openrc### 测试deployments是否可用(rally)[root@control01 deployments]# openstack image list+--------------------------------------+-----------------------------------+--------+| ID | Name | Status |+--------------------------------------+-----------------------------------+--------+| 83dc79c8-c6df-4e23-808c-0209778be1b2 | 123 | active || 9d4cc662-bdfb-46cb-996d-3b773ee161d5 | a1 | active || 255cc63c-f635-4bbb-850c-e319d2e4c17d | cenos-raw | active || 63c5d475-e96a-4c1f-985b-12685aa2a95b | centos6.5 | active || 15ed4618-4b3b-4cc3-a9ef-6967e3a3091d | centos7 | active || 15f04241-38cc-482d-b6a3-42ba9d29f47a | cirros | active || 6491747b-2fea-4d7c-b034-b3fe5089df2c | d1 | active || 4f99d882-04af-47bc-9e2d-a12aaecbf753 | s_rally_e4dbf0c1_LdpjrVlZ-shelved | active || 6a45e590-08fc-471f-b4d8-9a6195e88d07 | s_rally_e4dbf0c1_f3TP5nP4-shelved | active || a166585b-fb88-4c0a-a0c9-47443e9ca8be | s_rally_e4dbf0c1_lEthjCi9-shelved | active || fa680415-4448-4564-9b22-bdf2b86b6cd2 | s_rally_e4dbf0c1_nuqTKzuQ-shelved | active || 6eec3597-ee52-436c-9970-ec11415cbb4e | sdf1 | active || 1e84937a-a700-447b-8ffc-3f162127300d | snap1 | active |+--------------------------------------+-----------------------------------+--------+(rally)[root@control01 deployments]# rally deployment list+--------------------------------------+---------------------+-----------------+-------------------+--------+| uuid | created_at | name | status | active |+--------------------------------------+---------------------+-----------------+-------------------+--------+| af993ae9-363e-4701-b343-626063eaf715 | 2017-04-26 07:13:50 | existing | cleanup-&gt;finished | || 6682d272-5d99-400b-9de9-c4d46a705ba6 | 2017-05-08 03:21:46 | regiOne-99cloud | deploy-&gt;finished | * |+--------------------------------------+---------------------+-----------------+-------------------+--------+]]></content>
      <categories>
        <category>Openstack</category>
      </categories>
  </entry>
</search>